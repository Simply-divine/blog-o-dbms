
-- create tables
create table users (
    user_id                        number generated by default on null as identity  
                                   constraint users_id_pk primary key,
    username                       varchar2(20),
    email                          varchar2(255),
    password                       varchar2(20) invisible
)
;

create table articles (
    article_id                     number generated by default on null as identity  
                                   constraint articles_id_pk primary key,
    title                          varchar2(20),
    description                    varchar2(200),
    created_at                     date default on null SYSDATE,
    updated_at                     date default on null SYSDATE,
    creator_id                     number
                                   constraint articles_creator_id_fk
                                   references users on delete cascade
)
;

create table categories (
    category_id                    number generated by default on null as identity  
                                   constraint categories_id_pk primary key,
    category_name                  varchar2(20),
    created_at                     date default on null SYSDATE,
    updated_at                     date default on null SYSDATE
)
;

create table article_category(
    article_category_id  number primary key,
    article_id number references articles on delete cascade,
    category_id number references categories on delete cascade
)
;
create table comments (
    comment_id                     number,
    article_id                     number references articles,
    comment_description            varchar2(200),
    created_at                     date,
    updated_at                     date,
    commentor_id                   number
                                   constraint comments_commentor_id_fk
                                   references users on delete cascade,
    primary key(comment_id, article_id)
)
;



-- indexes
create index articles_i1 on articles (creator_id);
create index article_categories_i1 on article_categories (article_id);
create index article_categories_i2 on article_categories (category_id);
-- load data
 
insert into users (
    user_id,
    username,
    email,
    password
) values (
    1,
    'Digital Branding',
    'gricelda.luebbers@aaab.com',
    'Amet'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    2,
    'Data Privacy Review',
    'dean.bollich@aaac.com',
    'Lorem'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    3,
    'Stateless Protocol O',
    'milo.manoni@aaad.com',
    'Venenatis'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    4,
    'Inventory Optimizati',
    'laurice.karl@aaae.com',
    'Vulputate'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    5,
    'Incident Tracking Ap',
    'august.rupel@aaaf.com',
    'Lorem'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    6,
    'Backlog Analytics T6',
    'salome.guisti@aaag.com',
    'Cubilia'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    7,
    'RTS Reporting',
    'lovie.ritacco@aaah.com',
    'Primis'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    8,
    'Distributed Workload',
    'chaya.greczkowski@aaai.com',
    'Vestibulum'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    9,
    'Build System Upgrade',
    'twila.coolbeth@aaaj.com',
    'Sollicitudin'
);

insert into users (
    user_id,
    username,
    email,
    password
) values (
    10,
    'FR3 Key Metric Monit',
    'carlotta.achenbach@aaak.com',
    'Suscipit'
);

commit;
-- load data
-- load data
 
insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    1,
    'Fames',
    'Elit, vestibulum eget rhoncus non,molestie sit amet lectus. Nulla placerat iaculis aliquam. Vestibulum lacinia arcu in massa pharetra, id mattis risus rhoncus.Cras vulputate porttitor ligula. Nam semp',
    sysdate - 82,
    sysdate - 45,
    7
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    2,
    'Risus',
    'Sollicitudin elementum. Nulla facilisi. In posuere blandit leoeget malesuada. Vivamus efficitur ipsum tellus, quis posuere mi maximus vitae. Quisque tortor odio, feugiat eget sagittisvel, pretium ut m',
    sysdate - 1,
    sysdate - 22,
    1
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    3,
    'Sit',
    'Ligula. Nam semper diam suscipit elementum sodales. Proin sit amet massa eu lorem commodo ullamcorper.Interdum et malesuada fames ac ante ipsum primis in faucibus. Ut id nulla ac sapien suscipit trist',
    sysdate - 89,
    sysdate - 39,
    1
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    4,
    'Quis',
    'Cubilia Curae; Proin vulputate placerat pellentesque. Proin viverra lacinialectus, quis consectetur mi venenatis nec. Donec convallis sollicitudin elementum. Nulla facilisi. In posuere blandit leoeget',
    sysdate - 58,
    sysdate - 77,
    6
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    5,
    'Vulputate',
    'Ligula commodo, dictum lorem sit amet, imperdiet ex. Etiam cursus porttitor tincidunt. Vestibulum ante ipsumprimis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin vulputate placerat p',
    sysdate - 63,
    sysdate - 16,
    3
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    6,
    'Ac',
    'Id mattis risus rhoncus.Cras vulputate porttitor ligula. Nam semper diam suscipit elementum sodales. Proin sit amet massa eu lorem commodo ullamcorper.Interdum et malesuada fames ac ante ipsum primis ',
    sysdate - 37,
    sysdate - 92,
    8
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    7,
    'Suscipit',
    'Ut id nulla ac sapien suscipit tristique ac volutpat risus.Phasellus vitae ligula commodo, dictum lorem sit amet, imperdiet ex. Etiam cursus porttitor tincidunt. Vestibulum ante ipsumprimis in faucibu',
    sysdate - 88,
    sysdate - 87,
    2
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    8,
    'Amet',
    'Sit amet massa eu lorem commodo ullamcorper.Interdum et malesuada fames ac ante ipsum primis in.',
    sysdate - 20,
    sysdate - 7,
    3
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    9,
    'Commodo',
    'Porttitor tincidunt. Vestibulum ante ipsumprimis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin vulputate placerat pellentesque. Proin viverra lacinialectus, quis consectetur mi vene',
    sysdate - 68,
    sysdate - 95,
    1
);

insert into articles (
    article_id,
    title,
    description,
    created_at,
    updated_at,
    creator_id
) values (
    10,
    'Suscipit',
    'Eu lorem commodo ullamcorper.Interdum et malesuada fames ac ante ipsum.',
    sysdate - 2,
    sysdate - 59,
    8
);

commit;
-- load data
 
insert into categories (
    category_id,
    category_name,
    created_at,
    updated_at
) values (
    1,
    'Digital Branding',
    sysdate - 79,
    sysdate - 69
);

insert into categories (
    category_id,
    category_name,
    created_at,
    updated_at
) values (
    2,
    'Data Privacy Review',
    sysdate - 51,
    sysdate - 36
);

insert into categories (
    category_id,
    category_name,
    created_at,
    updated_at
) values (
    3,
    'Stateless Protocol O',
    sysdate - 21,
    sysdate - 60
);

insert into categories (
    category_id,
    category_name,
    created_at,
    updated_at
) values (
    4,
    'Inventory Optimizati',
    sysdate - 13,
    sysdate - 5
);

insert into categories (
    category_id,
    category_name,
    created_at,
    updated_at
) values (
    5,
    'Incident Tracking Ap',
    sysdate - 31,
    sysdate - 4
);

commit;
-- load data
 
insert into article_category (
    article_id,
    category_id
) values (
    7,
    2
);

insert into article_category (
    article_id,
    category_id
) values (
    8,
    1
);

insert into article_category (
    article_id,
    category_id
) values (
    3,
    5
);

commit;
